
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Juan Manuel Piñero Sánchez">
      
      
        <link rel="canonical" href="https://jmpinero-avante.github.io/ifcd0112avante-material/modulo2-bases-de-datos/01-modelado-y-definicion-de-tablas-en-postgresql/">
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../02-consultas-en-postgresql/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>1 – Modelado y definición de tablas en PostgreSQL - Módulo 2 – Bases de Datos</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../styles/code-font.css">
    
      <link rel="stylesheet" href="../styles/nav-toggle.css">
    
      <link rel="stylesheet" href="../styles/diagram.css">
    
      <link rel="stylesheet" href="../styles/desktop-drawer.css">
    
      <link rel="stylesheet" href="../styles/pdf-buttons.css">
    
      <link rel="stylesheet" href="../styles/pdf-academy.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#1-modelado-y-definicion-de-tablas-en-postgresql" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href=".." title="Módulo 2 – Bases de Datos" class="md-header__button md-logo" aria-label="Módulo 2 – Bases de Datos" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Módulo 2 – Bases de Datos
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              1 – Modelado y definición de tablas en PostgreSQL
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Cambiar a oscuro"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Cambiar a oscuro" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Cambiar a claro"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Cambiar a claro" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Módulo 2 – Bases de Datos" class="md-nav__button md-logo" aria-label="Módulo 2 – Bases de Datos" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Módulo 2 – Bases de Datos
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Índice
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    1 – Modelado y definición de tablas en PostgreSQL
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    1 – Modelado y definición de tablas en PostgreSQL
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#elementos-graficos-del-diagrama-entidad-relacion-er" class="md-nav__link">
    <span class="md-ellipsis">
      Elementos gráficos del Diagrama Entidad-Relación (ER)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#representacion-de-cardinalidades" class="md-nav__link">
    <span class="md-ellipsis">
      Representación de cardinalidades
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Representación de cardinalidades">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#forma-1-dos-grupos-de-numeros-mas-precisa" class="md-nav__link">
    <span class="md-ellipsis">
      Forma 1 – Dos grupos de números (más precisa)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#forma-2-un-solo-grupo-de-numeros-en-el-rombo" class="md-nav__link">
    <span class="md-ellipsis">
      Forma 2 – Un solo grupo de números en el rombo
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#traduccion-del-modelo-er-al-modelo-relacional-sql" class="md-nav__link">
    <span class="md-ellipsis">
      Traducción del modelo ER al modelo relacional (SQL)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sintaxis-general-de-create-table" class="md-nav__link">
    <span class="md-ellipsis">
      Sintaxis general de CREATE TABLE
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tipos-de-datos-mas-usados-en-postgresql" class="md-nav__link">
    <span class="md-ellipsis">
      Tipos de datos más usados en PostgreSQL
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#el-tipo-serial" class="md-nav__link">
    <span class="md-ellipsis">
      El tipo SERIAL
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#claves-primarias" class="md-nav__link">
    <span class="md-ellipsis">
      Claves primarias
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#claves-foraneas" class="md-nav__link">
    <span class="md-ellipsis">
      Claves foráneas
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restricciones-adicionales" class="md-nav__link">
    <span class="md-ellipsis">
      Restricciones adicionales
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#identificadores-con-comillas-dobles" class="md-nav__link">
    <span class="md-ellipsis">
      Identificadores con comillas dobles
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejemplo-final-con-todos-los-elementos-aplicados" class="md-nav__link">
    <span class="md-ellipsis">
      Ejemplo final con todos los elementos aplicados
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-consultas-en-postgresql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    02 – Consultas en PostgreSQL
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-insercion-uso-y-eliminacion-de-datos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    03 – Inserción, uso y eliminación de datos
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-indices-y-analisis-de-consultas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    04 – Índices y análisis de consultas
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-programacion-con-funciones-y-procedimientos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    05 – Programación con funciones y procedimientos
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-triggers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    06 – Triggers
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-casting-de-tipos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    07 – Casting de tipos
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../08-funciones-comunes-en-plpgsql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    08 – Funciones comunes en PL/pgSQL
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../09-formatos-de-fecha-en-postgresql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    09 – Formatos de fecha en PostgreSQL
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../10-instalacion-y-configuracion-de-postgresql-pgadmin-jdbc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    10 – Instalación y Configuración de PostgreSQL + pgAdmin + JDBC
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="1-modelado-y-definicion-de-tablas-en-postgresql">1 – Modelado y definición de tablas en PostgreSQL<a class="headerlink" href="#1-modelado-y-definicion-de-tablas-en-postgresql" title="Permanent link">&para;</a></h1>
<h2 id="elementos-graficos-del-diagrama-entidad-relacion-er">Elementos gráficos del Diagrama Entidad-Relación (ER)<a class="headerlink" href="#elementos-graficos-del-diagrama-entidad-relacion-er" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Elemento</th>
<th>Forma en el diagrama</th>
<th>Representa</th>
</tr>
</thead>
<tbody>
<tr>
<td>Entidad</td>
<td>Rectángulo</td>
<td>Una tabla</td>
</tr>
<tr>
<td>Relación</td>
<td>Rombo</td>
<td>Asociación entre dos o más entidades</td>
</tr>
<tr>
<td>Atributo</td>
<td>Óvalo</td>
<td>Propiedad de una entidad o una relación</td>
</tr>
<tr>
<td>Flecha</td>
<td>Flecha →</td>
<td>Une entidad (rectángulo) a relación (rombo)</td>
</tr>
</tbody>
</table>
<p>Las flechas siempre van desde una entidad hacia una relación, nunca al revés.
Un atributo puede estar conectado a:</p>
<ul>
<li>Una entidad: se convertirá en una columna en la tabla correspondiente.</li>
<li>Una relación: si la relación tiene atributos, se transforma en una tabla propia.</li>
</ul>
<hr />
<h2 id="representacion-de-cardinalidades">Representación de cardinalidades<a class="headerlink" href="#representacion-de-cardinalidades" title="Permanent link">&para;</a></h2>
<p>Las cardinalidades indican cuántas veces una entidad puede intervenir en una relación.
Hay dos formas de representarlas gráficamente:</p>
<h3 id="forma-1-dos-grupos-de-numeros-mas-precisa">Forma 1 – Dos grupos de números (más precisa)<a class="headerlink" href="#forma-1-dos-grupos-de-numeros-mas-precisa" title="Permanent link">&para;</a></h3>
<!-- svg-diagram start -->
<div class="diagram-block" align="center">
<svg width="750" height="300" xmlns="http://www.w3.org/2000/svg" style="background-color:#fff">
  <style>
    /* === Estilos generales === */
    text {
      font-family: "DejaVu Sans", Arial, sans-serif;
      fill: #222;
    }
    rect, polygon, line {
      stroke: #333;
      stroke-width: 1.3;
      fill: #fff;
    }
    .entity rect {
      fill: #f8fbff;
      stroke: #375a7f;
    }
    .relationship polygon {
      fill: #eef2f5;
      stroke: #222;
    }
    .card {
      font-size: 12px;
      fill: #000;
    }
  </style>

  <!-- === Definición de marcador de flecha === -->
  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="8" refY="5"
            markerWidth="6" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#333" />
    </marker>
  </defs>

  <!-- === Entidad izquierda === -->
  <g class="entity">
    <rect x="60" y="120" width="130" height="60" rx="4" ry="4"/>
    <text x="125" y="155" text-anchor="middle">Alumno</text>
  </g>

  <!-- === Entidad derecha (acercada) === -->
  <g class="entity">
    <rect x="530" y="120" width="130" height="60" rx="4" ry="4"/>
    <text x="595" y="155" text-anchor="middle">Curso</text>
  </g>

  <!-- === Relación (rombo) === -->
  <g class="relationship">
    <polygon points="320,100 410,150 320,200 230,150"/>
    <text x="320" y="157" text-anchor="middle">se matricula</text>
  </g>

  <!-- === Conexiones con flechas === -->
  <line x1="190" y1="150" x2="230" y2="150" stroke="#333" marker-end="url(#arrow)"/>
  <line x1="530" y1="150" x2="410" y2="150" stroke="#333" marker-end="url(#arrow)"/>

  <!-- === Cardinalidades === -->
  <text class="card" x="210" y="135" text-anchor="middle">0..N</text>
  <text class="card" x="465" y="135" text-anchor="middle">1..M</text>
</svg>
</div>
<!-- svg-diagram end -->

<ul>
<li>Cada alumno puede estar matriculado de 1 o mas cursos.</li>
<li>Cada curso puede tener matriculados 0 o más alumnos.</li>
</ul>
<p>Esta forma es muy explícita, ya que indica claramente el mínimo y máximo de participación de cada entidad en la relación.</p>
<h3 id="forma-2-un-solo-grupo-de-numeros-en-el-rombo">Forma 2 – Un solo grupo de números en el rombo<a class="headerlink" href="#forma-2-un-solo-grupo-de-numeros-en-el-rombo" title="Permanent link">&para;</a></h3>
<!-- svg-diagram start -->
<div class="diagram-block" align="center">
<svg width="700" height="260" xmlns="http://www.w3.org/2000/svg" style="background-color:#fff">
  <style>
    /* === Estilos generales === */
    text {
      font-family: "DejaVu Sans", Arial, sans-serif;
      fill: #222;
    }
    rect, polygon, line {
      stroke: #333;
      stroke-width: 1.3;
      fill: #fff;
    }
    .entity rect {
      fill: #f8fbff;
      stroke: #375a7f;
    }
    .relationship polygon {
      fill: #eef2f5;
      stroke: #222;
    }
    .card {
      font-size: 13px;
      fill: #000;
    }
  </style>

  <!-- === Flechas === -->
  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="8" refY="5"
            markerWidth="6" markerHeight="6" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#333" />
    </marker>
  </defs>

  <!-- === Entidad izquierda: Alumno === -->
  <g class="entity">
    <rect x="60" y="105" width="140" height="70" rx="4" ry="4"/>
    <text x="130" y="145" text-anchor="middle">Alumno</text>
  </g>

  <!-- === Entidad derecha: Curso === -->
  <g class="entity">
    <rect x="430" y="105" width="140" height="70" rx="4" ry="4"/>
    <text x="500" y="145" text-anchor="middle">Curso</text>
  </g>

  <!-- === Relación (rombo): se matricula (más separado del alumno) === -->
  <g class="relationship">
    <polygon points="290,90 340,140 290,190 240,140"/>
    <text x="290" y="146" text-anchor="middle">se matricula</text>
  </g>

  <!-- === Conexiones con flecha hacia el rombo === -->
  <line x1="200" y1="140" x2="240" y2="140" stroke="#333" marker-end="url(#arrow)"/>
  <line x1="430" y1="140" x2="340" y2="140" stroke="#333" marker-end="url(#arrow)"/>

  <!-- === Cardinalidad sobre el rombo === -->
  <text class="card" x="290" y="72" text-anchor="middle">N:M</text>
</svg>
</div>
<!-- svg-diagram end -->

<ul>
<li>Se entiende que un alumno puede estar inscrito en varios cursos.</li>
<li>Un curso tiene varios alumnos inscritos.</li>
<li>No se distingue entre 0..N y 1..N, ni entre 1..1 y 0..1. Es más compacta pero menos precisa.</li>
</ul>
<table>
<thead>
<tr>
<th>Aspecto</th>
<th>Forma 1: dos lados</th>
<th>Forma 2: en el rombo</th>
</tr>
</thead>
<tbody>
<tr>
<td>Precisión</td>
<td>Muy alta</td>
<td>Media (general)</td>
</tr>
<tr>
<td>Muestra mínimos</td>
<td>Sí (0..N, 1..1, etc.)</td>
<td>No</td>
</tr>
<tr>
<td>Claridad visual</td>
<td>Detallada</td>
<td>Más simple visualmente</td>
</tr>
<tr>
<td>Ambigüedad</td>
<td>Ninguna</td>
<td>Puede generar confusión</td>
</tr>
<tr>
<td>Uso común</td>
<td>Formal, académico</td>
<td>Bocetos, esquemas rápidos</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="traduccion-del-modelo-er-al-modelo-relacional-sql">Traducción del modelo ER al modelo relacional (SQL)<a class="headerlink" href="#traduccion-del-modelo-er-al-modelo-relacional-sql" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Elemento ER</th>
<th>Traducción SQL</th>
</tr>
</thead>
<tbody>
<tr>
<td>Entidad</td>
<td>Tabla con CREATE TABLE</td>
</tr>
<tr>
<td>Atributo</td>
<td>Columna</td>
</tr>
<tr>
<td>Relación 1:N</td>
<td>Clave foránea en el lado N</td>
</tr>
<tr>
<td>Relación N:M</td>
<td>Nueva tabla intermedia con 2 claves foráneas</td>
</tr>
<tr>
<td>Relación con atributos propios</td>
<td>Tabla adicional con claves foráneas y columnas extra</td>
</tr>
<tr>
<td>Atributo clave primaria</td>
<td>PRIMARY KEY</td>
</tr>
<tr>
<td>Atributo clave foránea</td>
<td>FOREIGN KEY</td>
</tr>
<tr>
<td>Atributo obligatorio</td>
<td>NOT NULL</td>
</tr>
<tr>
<td>Atributo único</td>
<td>UNIQUE</td>
</tr>
<tr>
<td>Atributo con condición</td>
<td>CHECK (condición)</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="sintaxis-general-de-create-table">Sintaxis general de CREATE TABLE<a class="headerlink" href="#sintaxis-general-de-create-table" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">nombre_tabla</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">columna1</span><span class="w"> </span><span class="n">tipo</span><span class="w"> </span><span class="p">[</span><span class="n">restricciones</span><span class="p">],</span>
<span class="w">    </span><span class="n">columna2</span><span class="w"> </span><span class="n">tipo</span><span class="w"> </span><span class="p">[</span><span class="n">restricciones</span><span class="p">],</span>
<span class="w">    </span><span class="p">...</span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">nombre_restriccion</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(...),</span>
<span class="w">    </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(...),</span>
<span class="w">    </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(...)</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">otra_tabla</span><span class="p">(</span><span class="n">columna</span><span class="p">)</span>
<span class="w">        </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="p">...</span>
<span class="p">);</span>
</code></pre></div>
<hr />
<h2 id="tipos-de-datos-mas-usados-en-postgresql">Tipos de datos más usados en PostgreSQL<a class="headerlink" href="#tipos-de-datos-mas-usados-en-postgresql" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td>INTEGER</td>
<td>Números enteros</td>
</tr>
<tr>
<td>TEXT</td>
<td>Texto de longitud variable</td>
</tr>
<tr>
<td>BOOLEAN</td>
<td>TRUE o FALSE</td>
</tr>
<tr>
<td>DATE</td>
<td>Fecha (YYYY-MM-DD)</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>Fecha y hora combinadas</td>
</tr>
<tr>
<td>NUMERIC</td>
<td>Números decimales de precisión fija</td>
</tr>
<tr>
<td>SERIAL</td>
<td>Entero autoincremental</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="el-tipo-serial">El tipo SERIAL<a class="headerlink" href="#el-tipo-serial" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">nextval</span><span class="p">(</span><span class="s1">&#39;nombre_secuencia&#39;</span><span class="p">)</span>
</code></pre></div>
<p>Al usar SERIAL, PostgreSQL crea una secuencia automática asociada.</p>
<hr />
<h2 id="claves-primarias">Claves primarias<a class="headerlink" href="#claves-primarias" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">id_empleado</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span>
</code></pre></div>
<p>Garantiza unicidad y no permite valores nulos.
No necesita NOT NULL ni UNIQUE porque ya están implícitos.</p>
<div class="highlight"><pre><span></span><code><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">id_alumno</span><span class="p">,</span><span class="w"> </span><span class="n">id_curso</span><span class="p">)</span>
</code></pre></div>
<p>Se utiliza cuando la combinación de varios campos debe ser única.
Muy común en relaciones N:M.</p>
<hr />
<h2 id="claves-foraneas">Claves foráneas<a class="headerlink" href="#claves-foraneas" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">id_departamento</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">departamentos</span><span class="p">(</span><span class="n">id_departamento</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">id_departamento</span><span class="p">)</span>
<span class="w">    </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">departamentos</span><span class="p">(</span><span class="n">id_departamento</span><span class="p">)</span>
<span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">RESTRICT</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Acción</th>
<th>Efecto</th>
</tr>
</thead>
<tbody>
<tr>
<td>CASCADE</td>
<td>Borra/modifica también las filas relacionadas</td>
</tr>
<tr>
<td>SET NULL</td>
<td>Asigna NULL al campo en la tabla dependiente</td>
</tr>
<tr>
<td>SET DEFAULT</td>
<td>Asigna el valor por defecto</td>
</tr>
<tr>
<td>RESTRICT</td>
<td>Impide borrar/modificar si hay filas relacionadas</td>
</tr>
<tr>
<td>NO ACTION</td>
<td>Igual que RESTRICT pero verificado al final de la transacción</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="restricciones-adicionales">Restricciones adicionales<a class="headerlink" href="#restricciones-adicionales" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Restricción</th>
<th>¿Dónde se aplica?</th>
<th>Significado</th>
</tr>
</thead>
<tbody>
<tr>
<td>NOT NULL</td>
<td>Columna</td>
<td>El valor no puede ser nulo</td>
</tr>
<tr>
<td>UNIQUE</td>
<td>Columna o grupo</td>
<td>No puede haber valores repetidos</td>
</tr>
<tr>
<td>CHECK</td>
<td>Columna o tabla</td>
<td>Condición que debe cumplirse (CHECK (edad &gt; 0))</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="identificadores-con-comillas-dobles">Identificadores con comillas dobles<a class="headerlink" href="#identificadores-con-comillas-dobles" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;Empleados Activos&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;ID Usuario&quot;</span><span class="w"> </span><span class="nb">SERIAL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;Nombre Completo&quot;</span><span class="w"> </span><span class="nb">TEXT</span>
<span class="p">);</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="ss">&quot;Nombre Completo&quot;</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="ss">&quot;Empleados Activos&quot;</span><span class="p">;</span>
</code></pre></div>
<p>Una vez creado así, debes usar comillas dobles siempre para referenciar ese campo o tabla.</p>
<hr />
<h2 id="ejemplo-final-con-todos-los-elementos-aplicados">Ejemplo final con todos los elementos aplicados<a class="headerlink" href="#ejemplo-final-con-todos-los-elementos-aplicados" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">empleados</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id_empleado</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">nombre</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">dni</span><span class="w"> </span><span class="nb">TEXT</span><span class="w"> </span><span class="k">UNIQUE</span><span class="p">,</span>
<span class="w">    </span><span class="n">edad</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="p">(</span><span class="n">edad</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">17</span><span class="p">),</span>
<span class="w">    </span><span class="n">id_departamento</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">departamentos</span><span class="p">(</span><span class="n">id_departamento</span><span class="p">)</span>
<span class="w">        </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="k">NULL</span>
<span class="w">        </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">,</span>
<span class="w">    </span><span class="n">fecha_ingreso</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">CURRENT_DATE</span>
<span class="p">);</span>
</code></pre></div>
<ul>
<li>id_empleado es autoincremental y clave primaria.</li>
<li>dni debe ser único.</li>
<li>edad debe ser mayor de 17.</li>
<li>id_departamento es una clave foránea con ON DELETE SET NULL.</li>
<li>fecha_ingreso tiene un valor por defecto (la fecha actual).</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  <div class="md-footer-meta md-typeset" style="text-align:center; font-size:0.85em; margin-top:1em;">
    <p>
      <a href="https://www.avante.es/" style="text-decoration:none;" target="_blank">
      <img src="../assets/avante-logo.png"
           alt="Avante" width="80"
           style="vertical-align:middle; margin-right:8px;">
      </a>
      Hecho con amor por <strong>Juan Manuel Piñero Sánchez</strong> · © 2025
    </p>
  </div>
</footer>

      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.expand", "navigation.sections", "navigation.top", "navigation.hide", "toc.integrate", "header.autohide", "content.code.copy"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>