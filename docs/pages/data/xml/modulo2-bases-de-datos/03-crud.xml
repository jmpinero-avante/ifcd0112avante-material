<section level="1">
<![CDATA[
3 – Inserción, uso y eliminación de datos
]]>

<section level="2">
<![CDATA[
INSERT: Añadir datos a una tabla
]]>

<section level="3">
<![CDATA[
Forma básica con VALUES
]]>

<code type="sql"><![CDATA[
INSERT INTO empleados (nombre, edad, salario)
VALUES ('Ana', 30, 1500);
]]></code>

<text><![CDATA[
Se insertan los valores en el orden de los campos indicados.
Puedes omitir los campos si insertas en todos y en orden:
]]></text>

<code type="sql"><![CDATA[
INSERT INTO empleados
VALUES (1, 'Luis', 40, 1800);
]]></code>
</section>

<section level="3">
<![CDATA[
Insertar múltiples filas con VALUES
]]>

<text><![CDATA[
También es posible insertar varias filas a la vez:
]]></text>

<code type="sql"><![CDATA[
INSERT INTO empleados (nombre, edad, salario)
VALUES 
  ('Carlos', 25, 1400),
  ('Lucía', 28, 1550),
  ('Mario', 35, 1750);
]]></code>

<text><![CDATA[
Esto es más eficiente que hacer varios INSERT individuales.
Todas las filas deben tener el mismo número de valores.
]]></text>
</section>

<section level="3">
<![CDATA[
INSERT con SELECT
]]>

<text><![CDATA[
Permite copiar datos desde otra tabla o subconsulta:
]]></text>

<code type="sql"><![CDATA[
INSERT INTO
   empleados_archivados (nombre, edad, salario)
SELECT
   nombre, edad, salario
FROM
   empleados
WHERE
   edad > 60;
]]></code>

<text><![CDATA[
Los campos del SELECT deben coincidir en número y tipo con los del INSERT.
]]></text>
</section>
</section>

<section level="2">
<![CDATA[
UPDATE: Modificar registros existentes
]]>

<code type="sql"><![CDATA[
UPDATE
   empleados
SET
   salario = salario * 1.05
WHERE
   departamento = 'Ventas';
]]></code>

<text><![CDATA[
Aplica una modificación filtrada con WHERE.
Si hay triggers definidos para UPDATE, se ejecutan automáticamente.
]]></text>
</section>

<section level="2">
<![CDATA[
DELETE: Eliminar registros
]]>

<code type="sql"><![CDATA[
DELETE FROM empleados
WHERE edad > 65;
]]></code>

<text><![CDATA[
Elimina filas que cumplan la condición WHERE.
También puede disparar triggers de tipo AFTER DELETE o BEFORE DELETE.
]]></text>
</section>

<section level="2">
<![CDATA[
Uso de WHERE en UPDATE y DELETE
]]>

<text><![CDATA[
Tanto UPDATE como DELETE pueden filtrar filas usando WHERE.
]]></text>

<section level="3">
<![CDATA[
Ejemplo en UPDATE (modificación)
]]>

<code type="sql"><![CDATA[
UPDATE
   productos
SET
   stock = stock - 1
WHERE
   id_producto = 5;
]]></code>
</section>

<section level="3">
<![CDATA[
Ejemplo en DELETE (borrado)
]]>

<code type="sql"><![CDATA[
DELETE FROM usuarios
WHERE fecha_registro < '2023-01-01';
]]></code>
</section>
</section>

<section level="2">
<![CDATA[
TRUNCATE: Vaciar una tabla completamente
]]>

<code type="sql"><![CDATA[
TRUNCATE TABLE empleados;
]]></code>
</section>

<section level="2">
<![CDATA[
Diferencias entre DELETE y TRUNCATE
]]>

<table>
  <row><cell><![CDATA[Característica]]></cell><cell><![CDATA[DELETE]]></cell><cell><![CDATA[TRUNCATE]]></cell></row>
  <row><cell><![CDATA[Usa WHERE]]></cell><cell><![CDATA[✅ Sí]]></cell><cell><![CDATA[❌ No]]></cell></row>
  <row><cell><![CDATA[Dispara triggers]]></cell><cell><![CDATA[✅ Sí]]></cell><cell><![CDATA[⚠️ No (en muchos casos)]]></cell></row>
  <row><cell><![CDATA[Puede deshacerse]]></cell><cell><![CDATA[✅ Sí (si hay transacción activa)]]></cell><cell><![CDATA[✅ Sí (si hay transacción activa)]]></cell></row>
  <row><cell><![CDATA[Velocidad]]></cell><cell><![CDATA[Más lento (registro por registro)]]></cell><cell><![CDATA[Muy rápido]]></cell></row>
  <row><cell><![CDATA[Recuperación]]></cell><cell><![CDATA[Posible con transacciones]]></cell><cell><![CDATA[Posible si se usa en transacción]]></cell></row>
</table>
</section>
</section>

