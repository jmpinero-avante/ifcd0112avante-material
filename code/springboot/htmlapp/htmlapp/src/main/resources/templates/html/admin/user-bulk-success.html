<!-- vim: set tabstop=2 softtabstop=2 shiftwidth=2 noexpandtab textwidth=80 : -->

<!--
===============================================================================
PLANTILLA: CONFIRMACIÓN DE OPERACIÓN MASIVA (ADMIN)
===============================================================================
Página mostrada tras ejecutar con éxito una operación sobre varios usuarios:
otorgar o revocar privilegios de administrador, o eliminar usuarios.
===============================================================================
-->

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{fragments/layout :: layout(
        title='Operación completada',
        content=~{::main},
        scripts=~{::script}
      )}">

<main class="text-center">
	<section class="mt-4 mb-4">
		<h1>Operación completada con éxito</h1>
		<p class="text-muted">
			La acción solicitada se ha realizado correctamente sobre los usuarios seleccionados.
		</p>
	</section>

	<!-- Mensaje dinámico con información adicional -->
	<div class="alert success" th:if="${message}" th:text="${message}">
		Operación ejecutada correctamente.
	</div>

	<div class="mt-4">
		<a class="btn" th:href="@{/admin/users}">
			Volver al listado de usuarios
		</a>
	</div>
</main>

<!-- =======================
     BLOQUE DE SCRIPTS INYECTABLE (opcional)
     ======================= -->
<script>
/**
 * Pequeña animación visual al cargar la página.
 * (Opcional, solo con fin estético/pedagógico)
 */
document.addEventListener("DOMContentLoaded", () => {
	const alertBox = document.querySelector(".alert.success");
	if (alertBox) {
		alertBox.style.opacity = "0";
		alertBox.style.transition = "opacity 1s ease";
		setTimeout(() => alertBox.style.opacity = "1", 100);
	}
});
</script>

</html>

<!--
===============================================================================
NOTAS PEDAGÓGICAS
===============================================================================
1. FLUJO DE USO
----------------
Esta página es el destino de las operaciones masivas ejecutadas en
`UserListController.bulkAction()`:
   - Conceder privilegios (GRANT_ADMIN)
   - Revocar privilegios (REVOKE_ADMIN)
   - Borrar usuarios (DELETE)

2. MENSAJE DINÁMICO
--------------------
El mensaje puede ser personalizado desde el controlador mediante el atributo
`model.addAttribute("message", "...")`.

3. USABILIDAD
--------------
El botón “Volver al listado de usuarios” permite regresar fácilmente a
la vista principal de administración.

4. ESTILO Y CONSISTENCIA
-------------------------
La clase `.alert.success` hereda los colores base del sistema de mensajes
definido en `base.css`.  
El diseño centrado mantiene la coherencia visual con el resto de la aplicación.

5. OBJETIVO PEDAGÓGICO
------------------------
Esta plantilla enseña cómo:
 - Mostrar feedback claro al usuario tras una acción crítica.
 - Reutilizar el layout principal sin duplicar HTML.
 - Controlar la visibilidad condicional de mensajes con Thymeleaf.
 - Mantener un flujo lógico entre vistas relacionadas.
===============================================================================
-->