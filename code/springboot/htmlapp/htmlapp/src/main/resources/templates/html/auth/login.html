<!-- vim: set tabstop=2 softtabstop=2 shiftwidth=2 noexpandtab textwidth=80 : -->
<!-- ============================================================
FORMULARIO DE INICIO DE SESIÓN
============================================================ -->
<html th:replace="~{fragments/layout :: layout(
	title='Iniciar sesión',
	content=~{::main}
)}">

<!--
Esta plantilla muestra el formulario de inicio de sesión.
Si el usuario ya está logado (`session.user` no es null),
el controlador redirige automáticamente a `/main`.
-->
<main>
	<section class="info-box">
		<h1>Iniciar sesión</h1>

		<form th:action="@{/login}" method="post" class="form-auth">
			<label for="email">Correo electrónico:</label>
			<input type="email" id="email" name="email" required />

			<label for="password">Contraseña:</label>
			<input type="password" id="password" name="password" required />

			<div class="form-actions">
				<button type="submit" class="btn btn-success">Entrar</button>
				<a th:href="@{/register}" class="btn">Registrarse</a>
			</div>

			<!-- Mensaje de error en login -->
			<p th:if="${errorMessage}" th:text="${errorMessage}" style="color:red; margin-top:1rem;">
				Correo o contraseña incorrectos.
			</p>
		</form>
	</section>
</main>
</html>