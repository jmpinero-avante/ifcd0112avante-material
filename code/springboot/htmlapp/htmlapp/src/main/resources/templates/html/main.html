<!-- vim: set tabstop=2 softtabstop=2 shiftwidth=2 noexpandtab textwidth=80 : -->
<!-- ============================================================
PÁGINA PRINCIPAL (EFECTO PARALLAX)
============================================================ -->
<html th:replace="~{fragments/layout :: layout(
	title='Página principal',
	content=~{::main},
	scripts=~{::script}
)}">

<!--
Esta vista es accesible solo para usuarios autenticados.
Muestra un efecto visual de parallax mediante la librería Rellax.js.
-->
<main>
	<!-- Capa de fondo con imagen lejana -->
	<div class="rellax" data-rellax-speed="-4" data-rellax-zindex="-2"
	     style="background-image:url('/img/layer-back.jpg');
	            background-size:cover; background-position:center;
	            position:fixed; top:0; left:0; right:0; bottom:0;
	            opacity:0.3; z-index:-2;">
	</div>

	<!-- Capa de primer plano -->
	<div class="rellax" data-rellax-speed="-1" data-rellax-zindex="-1"
	     style="background-image:url('/img/layer-front.png');
	            background-size:contain; background-repeat:no-repeat;
	            background-position:center bottom;
	            position:fixed; top:0; left:0; right:0; bottom:0;
	            opacity:0.6; z-index:-1;">
	</div>

	<section class="info-box" style="position:relative; z-index:10;">
		<h1>Bienvenido, <span th:text="${session.user.fullName}">Usuario</span></h1>

		<p>
			Estás conectado como
			<span th:text="${session.user.admin ? 'administrador' : 'usuario'}">usuario</span>.
		</p>

		<p>
			Esta es la página principal de HtmlApp.  
			Explora las secciones del menú lateral para acceder a tus datos o gestionar usuarios.
		</p>
	</section>
</main>

<!-- ============================================================
SCRIPTS NECESARIOS PARA EL EFECTO PARALLAX
============================================================ -->
<script th:inline="javascript">
	// Inicialización de la librería Rellax
	const rellax = new Rellax('.rellax');
</script>

<!-- Librería Rellax desde CDN -->
<script src="https://cdn.jsdelivr.net/npm/rellax@1.12.1/rellax.min.js"></script>
</html>

<!-- ============================================================
NOTAS DE DISEÑO Y FUNCIONAMIENTO
============================================================ -->
<!--
1. Usa el parámetro `scripts` del layout para cargar Rellax.js al final del <body>.
2. Las imágenes `layer-back.jpg` y `layer-front.png` deben estar en /static/img/.
3. El fondo se posiciona fijo y con opacidad para simular profundidad.
4. El contenido real se muestra en una caja con z-index superior.
5. Compatible con el layout principal y las clases de estilo globales.
-->