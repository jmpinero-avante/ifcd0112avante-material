<!-- vim: set tabstop=2 softtabstop=2 shiftwidth=2 noexpandtab textwidth=80 : -->

<!--
===============================================================================
MAIN.HTML — PÁGINA PRINCIPAL CON EFECTO PARALLAX
===============================================================================
Esta vista representa la página principal mostrada tras iniciar sesión.
Demuestra el uso del layout base con tres parámetros:

  title   → texto de la pestaña del navegador.
  content → contenido principal (esta sección).
  scripts → bloque de scripts opcionales (inicialización de Rellax.js).

También ilustra cómo integrar un efecto parallax multicapa usando imágenes
definidas en base.css (.layer-back y .layer-front) y la librería Rellax.js.

Se asume que las imágenes:
 - /static/img/layer-back.jpg
 - /static/img/layer-front.png
existen y tienen la profundidad deseada (fondo y frente).

El layout utilizado es fragments/layout.html.
===============================================================================
-->

<html th:replace="~{fragments/layout :: layout(
	title='Página principal',
	content=~{::main},
	scripts=~{::script}
)}">

<main>
	<!-- Capas del efecto parallax -->
	<div class="parallax layer-back" data-rellax-speed="-1"></div>
	<div class="parallax layer-front" data-rellax-speed="-3"></div>

	<section class="text-center">
		<h1>Bienvenido a HtmlApp</h1>
		<p>
			Has iniciado sesión correctamente.
			Explora las funcionalidades disponibles a través del menú lateral.
		</p>

		<p class="mt-4">
			Este ejemplo muestra un <strong>efecto parallax multicapa</strong>,
			en el que distintas imágenes se desplazan a velocidades diferentes
			para crear una sensación de profundidad.
		</p>

		<div class="mt-4">
			<a href="/user/details"
			   class="btn btn-success">Ver mi perfil</a>
			<a href="/userlist/list"
			   class="btn btn-primary">Administrar usuarios</a>
		</div>
	</section>
</main>

<!-- ============================================================
SCRIPTS — INICIALIZACIÓN DEL EFECTO PARALLAX
============================================================ -->
<script th:inline="javascript">
	/* Carga la librería Rellax desde CDN */
	const script = document.createElement('script');
	script.src = "https://cdn.jsdelivr.net/npm/rellax@1.12.1/rellax.min.js";
	script.onload = () => {
		console.log("Rellax.js cargado correctamente.");
		new Rellax('.parallax', { center: true });
	};
	document.body.appendChild(script);
</script>

</html>