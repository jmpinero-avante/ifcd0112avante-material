<!-- vim: set tabstop=2 softtabstop=2 shiftwidth=2 noexpandtab textwidth=80 : -->
<!-- ============================================================
FRAGMENTO: AUTH-MESSAGE (MENSAJES GLOBALES DE AUTENTICACIÓN)
============================================================ -->
<!--
Este archivo define un fragmento reutilizable que muestra mensajes
informativos o de error relacionados con la autenticación de usuarios.

Se utiliza para mostrar avisos como:
 - “Has cerrado sesión correctamente.”
 - “Correo o contraseña incorrectos.”
 - “Error al registrarse.”

El layout principal (`fragments/layout.html`) lo incluye automáticamente
debajo del contenido principal mediante:

    <div th:replace="~{fragments/auth-message :: authMessage}"></div>

De esta forma, cualquier vista puede mostrar mensajes basados en
parámetros o atributos del modelo sin necesidad de duplicar código.
-->
<div th:fragment="authMessage">
	<!-- ============================================================
	MENSAJES BASADOS EN PARÁMETROS DE LA PETICIÓN (REQUEST PARAMS)
	============================================================ -->
	<!--
	El atributo `param.logout` es establecido por Spring al realizar
	una redirección tras el logout. Si está presente, se muestra
	un mensaje de confirmación.
	-->
	<div th:if="${param.logout}" class="text-center mt-2">
		<p class="text-success">Has cerrado sesión correctamente.</p>
	</div>

	<!--
	El parámetro `param.error` indica un fallo en el login.
	Esto puede deberse a credenciales incorrectas u otro error
	de autenticación. Muestra un mensaje de error genérico.
	-->
	<div th:if="${param.error}" class="text-center mt-2">
		<p class="text-error">Correo o contraseña incorrectos.</p>
	</div>

	<!-- ============================================================
	MENSAJES BASADOS EN EL MODELO (ATRIBUTOS DEL CONTROLADOR)
	============================================================ -->
	<!--
	Si el controlador añade un atributo `infoMessage` al modelo,
	se muestra en formato de mensaje informativo.
	-->
	<div th:if="${infoMessage}" class="text-center mt-2">
		<p class="text-info" th:text="${infoMessage}">Mensaje informativo.</p>
	</div>

	<!--
	Si el controlador añade un atributo `errorMessage` al modelo,
	se muestra como mensaje de error destacado.
	-->
	<div th:if="${errorMessage}" class="text-center mt-2">
		<p class="text-error" th:text="${errorMessage}">
			Ha ocurrido un error.
		</p>
	</div>
</div>

<!-- ============================================================
NOTAS DE DISEÑO Y FUNCIONAMIENTO
============================================================ -->
<!--
1. MECANISMO DE FUNCIONAMIENTO
-------------------------------
Thymeleaf permite acceder tanto a parámetros GET como a
atributos del modelo en las vistas.

 - `${param.nombre}`  → lee los parámetros de la URL (por ejemplo ?logout o ?error).
 - `${atributo}`      → lee los atributos añadidos por el controlador al modelo.

Esto permite mostrar mensajes sin necesidad de lógica adicional
en las plantillas.

2. ESTILOS
----------
Los estilos para los mensajes están definidos en `base.css`:

.text-success { color: var(--color-success); }
.text-error   { color: var(--color-error); }
.text-info    { color: var(--color-accent); }

.mt-2 añade un margen superior para separar los mensajes del contenido.

3. OBJETIVO PEDAGÓGICO
------------------------
Este fragmento muestra cómo usar Thymeleaf para:
 - Acceder a parámetros de la request (`param.*`).
 - Mostrar mensajes condicionalmente (`th:if`).
 - Usar atributos del modelo desde el controlador.

Es un ejemplo claro de cómo desacoplar la lógica del controlador
de la presentación, centralizando la visualización de mensajes
en un único punto de la aplicación.
-->