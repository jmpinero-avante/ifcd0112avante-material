<!-- vim: set tabstop=2 softtabstop=2 shiftwidth=2 noexpandtab textwidth=80 : -->

<html th:replace="~{fragments/layout :: layout(
	title='Cambiar contraseña',
	content=~{::main}
)}">

<main>
	<section class="text-center mb-2">
		<h1>Cambiar contraseña</h1>
		<p>Introduce tu contraseña actual y la nueva contraseña dos veces.</p>
	</section>

	<form th:action="@{/user/change-password/{id}(id=${user.id})}" method="post">
		<div th:if="${#httpSession.getAttribute('userId')} == ${user.id}">
			<label for="currentPassword">Contraseña actual</label>
			<input type="password" id="currentPassword" name="currentPassword"
			       placeholder="Introduce tu contraseña actual"
			       minlength="4" maxlength="60" required />
		</div>

		<label for="newPassword">Nueva contraseña</label>
		<input type="password" id="newPassword" name="newPassword"
		       placeholder="Introduce la nueva contraseña"
		       minlength="4" maxlength="60" required />

		<label for="confirmPassword">Confirmar nueva contraseña</label>
		<input type="password" id="confirmPassword" name="confirmPassword"
		       placeholder="Repite la nueva contraseña"
		       minlength="4" maxlength="60" required />

		<div class="text-center mt-2">
			<button type="submit" class="btn">Guardar contraseña</button>
			<a th:href="@{/user/details/{id}(id=${user.id})}" 
			   class="btn btn-secondary">Cancelar</a>
		</div>
	</form>
</main>
</html>